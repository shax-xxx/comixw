<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ComixWall ISG Administration Interface: View/imspector/imlogs.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_87b54b6b48ba0f3cd0b63254de503eea.html">View</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e5640a8bfbdd696fbc2234024669a322.html">imspector</a></div>
<h1>imlogs.php</h1><a href="View_2imspector_2imlogs_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="comment">/* $ComixWall: imlogs.php,v 1.28 2009/11/25 14:27:36 soner Exp $ */</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="comment">/*</span>
<a name="l00005"></a>00005 <span class="comment"> * Copyright (c) 2004-2009 Soner Tari.  All rights reserved.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00008"></a>00008 <span class="comment"> * modification, are permitted provided that the following conditions</span>
<a name="l00009"></a>00009 <span class="comment"> * are met:</span>
<a name="l00010"></a>00010 <span class="comment"> * 1. Redistributions of source code must retain the above copyright</span>
<a name="l00011"></a>00011 <span class="comment"> *    notice, this list of conditions and the following disclaimer.</span>
<a name="l00012"></a>00012 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span>
<a name="l00013"></a>00013 <span class="comment"> *    notice, this list of conditions and the following disclaimer in the</span>
<a name="l00014"></a>00014 <span class="comment"> *    documentation and/or other materials provided with the distribution.</span>
<a name="l00015"></a>00015 <span class="comment"> * 3. All advertising materials mentioning features or use of this</span>
<a name="l00016"></a>00016 <span class="comment"> *    software must display the following acknowledgement: This</span>
<a name="l00017"></a>00017 <span class="comment"> *    product includes software developed by Soner Tari</span>
<a name="l00018"></a>00018 <span class="comment"> *    and its contributors.</span>
<a name="l00019"></a>00019 <span class="comment"> * 4. Neither the name of Soner Tari nor the names of</span>
<a name="l00020"></a>00020 <span class="comment"> *    its contributors may be used to endorse or promote products</span>
<a name="l00021"></a>00021 <span class="comment"> *    derived from this software without specific prior written</span>
<a name="l00022"></a>00022 <span class="comment"> *    permission.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR</span>
<a name="l00025"></a>00025 <span class="comment"> * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES</span>
<a name="l00026"></a>00026 <span class="comment"> * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00027"></a>00027 <span class="comment"> * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,</span>
<a name="l00028"></a>00028 <span class="comment"> * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</span>
<a name="l00029"></a>00029 <span class="comment"> * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00030"></a>00030 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00031"></a>00031 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00032"></a>00032 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<a name="l00033"></a>00033 <span class="comment"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00034"></a>00034 <span class="comment"> */</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 require_once('../lib/vars.php');
<a name="l00037"></a>00037 require_once('../lib/view.php');
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="classImlogs.html">Imlogs</a> <span class="keyword">extends</span> <a class="code" href="classView.html">View</a>
<a name="l00040"></a>00040 {
<a name="l00041"></a><a class="code" href="classImlogs.html#d6bfc4dae98ab534a107d94aedf6cf19">00041</a>     <span class="keyword">public</span> <a class="code" href="classImlogs.html#d6bfc4dae98ab534a107d94aedf6cf19">$Model</a>= 'imlogs';
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classImlogs.html#c8af65218abe43566148cda2024ba0be">00043</a>     function <a class="code" href="classImlogs.html#c8af65218abe43566148cda2024ba0be">PrintLogLine</a>($cols, $linenum)
<a name="l00044"></a>00044     {
<a name="l00045"></a>00045         $this-&gt;PrintLogLineClass($cols['User']);
<a name="l00046"></a>00046 
<a name="l00047"></a>00047         PrintLogCols($linenum, $cols);
<a name="l00048"></a>00048         echo '&lt;/tr&gt;';
<a name="l00049"></a>00049     }
<a name="l00050"></a>00050 
<a name="l00051"></a>00051     function FormatLogCols(&amp;$cols)
<a name="l00052"></a>00052     {
<a name="l00053"></a>00053         $cols['Log']= wordwrap($cols['Log'], 100, '&lt;br /&gt;', TRUE);
<a name="l00054"></a>00054     }
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="View_2imspector_2imlogs_8php.html#dfe49c647d27eb2b424c3ea73082382f">00057</a> <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>= <span class="keyword">new</span> <a class="code" href="classImlogs.html">Imlogs</a>();
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="keywordflow">if</span> ($_POST['Proto']) {
<a name="l00060"></a>00060     <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['Proto']= $_POST['Proto'];
<a name="l00061"></a>00061     unset(<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['LocalUser'],
<a name="l00062"></a>00062         <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['RemoteUser'],
<a name="l00063"></a>00063         <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['<a class="code" href="classSession.html">Session</a>']);
<a name="l00064"></a>00064 }
<a name="l00065"></a>00065 <span class="keywordflow">if</span> ($_POST['LocalUser']) {
<a name="l00066"></a>00066     <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['LocalUser']= $_POST['LocalUser'];
<a name="l00067"></a>00067     unset(<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['RemoteUser'],
<a name="l00068"></a>00068         <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['<a class="code" href="classSession.html">Session</a>']);
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 <span class="keywordflow">if</span> ($_POST['RemoteUser']) {
<a name="l00071"></a>00071     <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['RemoteUser']= $_POST['RemoteUser'];
<a name="l00072"></a>00072     unset(<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['<a class="code" href="classSession.html">Session</a>']);
<a name="l00073"></a>00073 }
<a name="l00074"></a>00074 <span class="keywordflow">if</span> ($_POST['<a class="code" href="classSession.html">Session</a>']) {
<a name="l00075"></a>00075     <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['Session']= $_POST['Session'];
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keywordflow">if</span> (<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['Proto']) {
<a name="l00079"></a>00079     $Proto= <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['Proto'];
<a name="l00080"></a>00080 }
<a name="l00081"></a>00081 <span class="keywordflow">if</span> (<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['LocalUser']) {
<a name="l00082"></a>00082     $LocalUser= <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['LocalUser'];
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 <span class="keywordflow">if</span> (<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['RemoteUser']) {
<a name="l00085"></a>00085     $RemoteUser= <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['RemoteUser'];
<a name="l00086"></a>00086 }
<a name="l00087"></a>00087 <span class="keywordflow">if</span> (<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>]['Session']) {
<a name="l00088"></a>00088     $Session= <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['Session'];
<a name="l00089"></a>00089 }
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 $SelectHeight= '100px';
<a name="l00092"></a>00092 require_once(<a class="code" href="Controller_2cwc_8php.html#1cf4c1ce4d54df11a660775bb7c5bbd8">$VIEW_PATH</a>.'header.php');
<a name="l00093"></a>00093 ?&gt;
<a name="l00094"></a>00094 &lt;<a class="code" href="classtable.html">table</a>&gt;
<a name="l00095"></a>00095     &lt;tr&gt;
<a name="l00096"></a>00096         &lt;td <span class="keyword">class</span>=<span class="stringliteral">"imselectbox"</span>&gt;
<a name="l00097"></a>00097         &lt;?php
<a name="l00098"></a>00098         <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetProtocols');
<a name="l00099"></a>00099         ?&gt;
<a name="l00100"></a>00100         &lt;?php echo <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Protocol').<span class="charliteral">':'</span> ?&gt;
<a name="l00101"></a>00101         &lt;form <span class="keywordtype">id</span>=<span class="stringliteral">"ProtoForm"</span> name=<span class="stringliteral">"ProtoForm"</span> <a class="code" href="commentedit_8php.html#a6e6ab6db051620fa9c4d60b3090ebd8">action</a>=<span class="stringliteral">"&lt;?php echo $_SERVER['PHP_SELF'] ?&gt;"</span> <a class="code" href="conf_8net_8php.html#7c74d5f2b3d29c86ee4c52ad69b5c236">method</a>=<span class="stringliteral">"post"</span>&gt;
<a name="l00102"></a>00102             &lt;select name=<span class="stringliteral">"Proto"</span> onchange=<span class="stringliteral">"document.ProtoForm.submit()"</span> multiple style=<span class="stringliteral">"width: 175px; height: &lt;?php echo $SelectHeight ?&gt;;"</span>&gt;
<a name="l00103"></a>00103                 &lt;?php
<a name="l00104"></a>00104                 <span class="keywordflow">if</span> (!empty($Output)) {
<a name="l00105"></a>00105                     <span class="keywordflow">foreach</span> ($Output as $Protocol) {
<a name="l00106"></a>00106                         $Selected= $Protocol === $Proto ? ' selected' : '';
<a name="l00107"></a>00107                         ?&gt;
<a name="l00108"></a>00108                         &lt;option value=<span class="stringliteral">"&lt;?php echo $Protocol ?&gt;"</span>&lt;?php echo $Selected ?&gt;&gt;&lt;?php echo $Protocol ?&gt;&lt;/option&gt;
<a name="l00109"></a>00109                         &lt;?php
<a name="l00110"></a>00110                     }
<a name="l00111"></a>00111                 }
<a name="l00112"></a>00112                 ?&gt;
<a name="l00113"></a>00113             &lt;/select&gt;
<a name="l00114"></a>00114         &lt;/form&gt;
<a name="l00115"></a>00115         &lt;/td&gt;
<a name="l00116"></a>00116         &lt;td <span class="keyword">class</span>=<span class="stringliteral">"imselectbox"</span>&gt;
<a name="l00117"></a>00117         &lt;?php
<a name="l00118"></a>00118         <span class="keywordflow">if</span> (isset($Proto)) {
<a name="l00119"></a>00119             <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetLocalUsers', $Proto);
<a name="l00120"></a>00120             ?&gt;
<a name="l00121"></a>00121             &lt;label <span class="keyword">class</span>=<span class="stringliteral">"imlocaluser"</span>&gt;&lt;?php echo <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Local User').<span class="charliteral">':'</span> ?&gt;&lt;/label&gt;
<a name="l00122"></a>00122             &lt;form <span class="keywordtype">id</span>=<span class="stringliteral">"LocalUserForm"</span> name=<span class="stringliteral">"LocalUserForm"</span> <a class="code" href="commentedit_8php.html#a6e6ab6db051620fa9c4d60b3090ebd8">action</a>=<span class="stringliteral">"&lt;?php echo $_SERVER['PHP_SELF'] ?&gt;"</span> <a class="code" href="conf_8net_8php.html#7c74d5f2b3d29c86ee4c52ad69b5c236">method</a>=<span class="stringliteral">"post"</span>&gt;
<a name="l00123"></a>00123                 &lt;select name=<span class="stringliteral">"LocalUser"</span> onchange=<span class="stringliteral">"document.LocalUserForm.submit()"</span> multiple style=<span class="stringliteral">"width: 175px; height: &lt;?php echo $SelectHeight ?&gt;;"</span>&gt;
<a name="l00124"></a>00124                     &lt;?php
<a name="l00125"></a>00125                     <span class="keywordflow">foreach</span> ($Output as $User) {
<a name="l00126"></a>00126                         $Selected= $User === $LocalUser ? ' selected' : '';
<a name="l00127"></a>00127                         ?&gt;
<a name="l00128"></a>00128                         &lt;option value=<span class="stringliteral">"&lt;?php echo $User ?&gt;"</span>&lt;?php echo $Selected ?&gt;&gt;&lt;?php echo $User ?&gt;&lt;/option&gt;
<a name="l00129"></a>00129                         &lt;?php
<a name="l00130"></a>00130                     }
<a name="l00131"></a>00131                     ?&gt;
<a name="l00132"></a>00132                 &lt;/select&gt;
<a name="l00133"></a>00133                 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"Proto"</span> value=<span class="stringliteral">"&lt;?php echo $Proto ?&gt;"</span> /&gt;
<a name="l00134"></a>00134             &lt;/form&gt;
<a name="l00135"></a>00135             &lt;?php
<a name="l00136"></a>00136         }
<a name="l00137"></a>00137         ?&gt;
<a name="l00138"></a>00138         &lt;/td&gt;
<a name="l00139"></a>00139         &lt;td <span class="keyword">class</span>=<span class="stringliteral">"imselectbox"</span>&gt;
<a name="l00140"></a>00140         &lt;?php
<a name="l00141"></a>00141         <span class="keywordflow">if</span> (isset($LocalUser)) {
<a name="l00142"></a>00142             <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetRemoteUsers', $Proto, $LocalUser);
<a name="l00143"></a>00143             ?&gt;
<a name="l00144"></a>00144             &lt;?php echo <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Remote User').<span class="charliteral">':'</span> ?&gt;
<a name="l00145"></a>00145             &lt;form <span class="keywordtype">id</span>=<span class="stringliteral">"RemoteUserForm"</span> name=<span class="stringliteral">"RemoteUserForm"</span> <a class="code" href="commentedit_8php.html#a6e6ab6db051620fa9c4d60b3090ebd8">action</a>=<span class="stringliteral">"&lt;?php echo $_SERVER['PHP_SELF'] ?&gt;"</span> <a class="code" href="conf_8net_8php.html#7c74d5f2b3d29c86ee4c52ad69b5c236">method</a>=<span class="stringliteral">"post"</span>&gt;
<a name="l00146"></a>00146                 &lt;select name=<span class="stringliteral">"RemoteUser"</span> onchange=<span class="stringliteral">"document.RemoteUserForm.submit()"</span> multiple style=<span class="stringliteral">"width: 175px; height: &lt;?php echo $SelectHeight ?&gt;;"</span>&gt;
<a name="l00147"></a>00147                     &lt;?php
<a name="l00148"></a>00148                     <span class="keywordflow">foreach</span> ($Output as $User) {
<a name="l00149"></a>00149                         $Selected= $User === $RemoteUser ? ' selected' : '';
<a name="l00150"></a>00150                         ?&gt;
<a name="l00151"></a>00151                         &lt;option value=<span class="stringliteral">"&lt;?php echo $User ?&gt;"</span>&lt;?php echo $Selected ?&gt;&gt;&lt;?php echo $User ?&gt;&lt;/option&gt;
<a name="l00152"></a>00152                         &lt;?php
<a name="l00153"></a>00153                     }
<a name="l00154"></a>00154                     ?&gt;
<a name="l00155"></a>00155                 &lt;/select&gt;
<a name="l00156"></a>00156                 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"Proto"</span> value=<span class="stringliteral">"&lt;?php echo $Proto ?&gt;"</span> /&gt;
<a name="l00157"></a>00157                 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"LocalUser"</span> value=<span class="stringliteral">"&lt;?php echo $LocalUser ?&gt;"</span> /&gt;
<a name="l00158"></a>00158             &lt;/form&gt;
<a name="l00159"></a>00159             &lt;?php
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161         ?&gt;
<a name="l00162"></a>00162         &lt;/td&gt;
<a name="l00163"></a>00163         &lt;td <span class="keyword">class</span>=<span class="stringliteral">"imselectbox"</span>&gt;
<a name="l00164"></a>00164         &lt;?php
<a name="l00165"></a>00165         <span class="keywordflow">if</span> (isset($RemoteUser)) {
<a name="l00166"></a>00166             <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetSessions', $Proto, $LocalUser, $RemoteUser);
<a name="l00167"></a>00167             ?&gt;
<a name="l00168"></a>00168             &lt;?php echo <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Session').<span class="charliteral">':'</span> ?&gt;
<a name="l00169"></a>00169             &lt;form <span class="keywordtype">id</span>=<span class="stringliteral">"SessionForm"</span> name=<span class="stringliteral">"SessionForm"</span> <a class="code" href="commentedit_8php.html#a6e6ab6db051620fa9c4d60b3090ebd8">action</a>=<span class="stringliteral">"&lt;?php echo $_SERVER['PHP_SELF'] ?&gt;"</span> <a class="code" href="conf_8net_8php.html#7c74d5f2b3d29c86ee4c52ad69b5c236">method</a>=<span class="stringliteral">"post"</span>&gt;
<a name="l00170"></a>00170                 &lt;select name=<span class="stringliteral">"Session"</span> onchange=<span class="stringliteral">"document.SessionForm.submit()"</span> multiple style=<span class="stringliteral">"width: 175px; height: &lt;?php echo $SelectHeight ?&gt;;"</span>&gt;
<a name="l00171"></a>00171                     &lt;?php
<a name="l00172"></a>00172                     <span class="keywordflow">foreach</span> ($Output as $SessionDate) {
<a name="l00173"></a>00173                         $Selected= $SessionDate === $Session ? ' selected' : '';
<a name="l00174"></a>00174                         ?&gt;
<a name="l00175"></a>00175                         &lt;option value=<span class="stringliteral">"&lt;?php echo $SessionDate ?&gt;"</span>&lt;?php echo $Selected ?&gt;&gt;&lt;?php echo $SessionDate ?&gt;&lt;/option&gt;
<a name="l00176"></a>00176                         &lt;?php
<a name="l00177"></a>00177                     }
<a name="l00178"></a>00178                     ?&gt;
<a name="l00179"></a>00179                 &lt;/select&gt;
<a name="l00180"></a>00180                 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"Proto"</span> value=<span class="stringliteral">"&lt;?php echo $Proto ?&gt;"</span> /&gt;
<a name="l00181"></a>00181                 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"LocalUser"</span> value=<span class="stringliteral">"&lt;?php echo $LocalUser ?&gt;"</span> /&gt;
<a name="l00182"></a>00182                 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"RemoteUser"</span> value=<span class="stringliteral">"&lt;?php echo $RemoteUser ?&gt;"</span> /&gt;
<a name="l00183"></a>00183             &lt;/form&gt;
<a name="l00184"></a>00184             &lt;?php
<a name="l00185"></a>00185         }
<a name="l00186"></a>00186         ?&gt;
<a name="l00187"></a>00187         &lt;/td&gt;
<a name="l00188"></a>00188     &lt;/tr&gt;
<a name="l00189"></a>00189 &lt;/<a class="code" href="classtable.html">table</a>&gt;
<a name="l00190"></a>00190 &lt;?php
<a name="l00191"></a>00191 <span class="keywordflow">if</span> ($Session) {
<a name="l00192"></a>00192     <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetImLogFile', $Proto, $LocalUser, $RemoteUser, $Session);
<a name="l00193"></a>00193     <a class="code" href="logs_8archives_8php.html#09ce856a444e6c8704d1c5cc9f63e347">$LogFile</a>= <a class="code" href="lib_2lib_8php.html#998c26d78939d233b87794689e841eb9" title="Escapes chars.">Escape</a>($Output[0], ';{}');
<a name="l00194"></a>00194     <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>[<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Model]['LogFile']= <a class="code" href="logs_8archives_8php.html#09ce856a444e6c8704d1c5cc9f63e347">$LogFile</a>;
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     ProcessStartLine($StartLine);
<a name="l00197"></a>00197     UpdateLogsPageSessionVars($LinesPerPage, $SearchRegExp);
<a name="l00198"></a>00198 
<a name="l00200"></a>00200     <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetFileLineCount', <a class="code" href="logs_8archives_8php.html#09ce856a444e6c8704d1c5cc9f63e347">$LogFile</a>, $SearchRegExp);
<a name="l00201"></a>00201     <a class="code" href="View_2dansguardian_2blacklists_8php.html#23ab27debf54a44c1317dee4ee2036c1">$LogSize</a>= $Output[0];
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     ProcessNavigationButtons($LinesPerPage, <a class="code" href="View_2dansguardian_2blacklists_8php.html#23ab27debf54a44c1317dee4ee2036c1">$LogSize</a>, $StartLine, $HeadStart);
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     $CustomHiddenInputs= &lt;&lt;&lt;EOF
<a name="l00206"></a>00206 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"Proto"</span> value=<span class="stringliteral">"$Proto"</span> /&gt;
<a name="l00207"></a>00207 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"LocalUser"</span> value=<span class="stringliteral">"$LocalUser"</span> /&gt;
<a name="l00208"></a>00208 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"RemoteUser"</span> value=<span class="stringliteral">"$RemoteUser"</span> /&gt;
<a name="l00209"></a>00209 &lt;input type=<span class="stringliteral">"hidden"</span> name=<span class="stringliteral">"Session"</span> value=<span class="stringliteral">"$Session"</span> /&gt;
<a name="l00210"></a>00210 EOF;
<a name="l00211"></a>00211     PrintLogHeaderForm($StartLine, <a class="code" href="View_2dansguardian_2blacklists_8php.html#23ab27debf54a44c1317dee4ee2036c1">$LogSize</a>, $LinesPerPage, $SearchRegExp, $CustomHiddenInputs);
<a name="l00212"></a>00212     ?&gt;
<a name="l00213"></a>00213     &lt;<a class="code" href="classtable.html">table</a> <span class="keywordtype">id</span>=<span class="stringliteral">"imlogs"</span>&gt;
<a name="l00214"></a>00214         &lt;?php
<a name="l00215"></a>00215         PrintTableHeaders(<a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;<a class="code" href="classModel.html">Model</a>);
<a name="l00216"></a>00216         ?&gt;
<a name="l00217"></a>00217         &lt;?php
<a name="l00218"></a>00218         <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;Controller($Output, 'GetLogs', <a class="code" href="logs_8archives_8php.html#09ce856a444e6c8704d1c5cc9f63e347">$LogFile</a>, $HeadStart, $LinesPerPage, $SearchRegExp);
<a name="l00219"></a>00219         <a class="code" href="View_2dansguardian_2blacklists_8php.html#ea7102c932988be01b48de9993dfb412">$Logs</a>= unserialize($Output[0]);
<a name="l00220"></a>00220 
<a name="l00221"></a>00221         <a class="code" href="View_2dansguardian_2blacklists_8php.html#224b8b224dceb2f5be95ca844663ae2d">$LineCount</a>= $StartLine + 1;
<a name="l00222"></a>00222         <span class="keywordflow">foreach</span> (<a class="code" href="View_2dansguardian_2blacklists_8php.html#ea7102c932988be01b48de9993dfb412">$Logs</a> as $Log) {
<a name="l00223"></a>00223             <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>-&gt;PrintLogLine($Log, <a class="code" href="View_2dansguardian_2blacklists_8php.html#224b8b224dceb2f5be95ca844663ae2d">$LineCount</a>++);
<a name="l00224"></a>00224         }
<a name="l00225"></a>00225         ?&gt;
<a name="l00226"></a>00226     &lt;/<a class="code" href="classtable.html">table</a>&gt;
<a name="l00227"></a>00227     &lt;?php
<a name="l00228"></a>00228 }
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 <a class="code" href="Installer_2lib_8php.html#48e8b2b98d7015c1a3bfd40e949bfc2e" title="To satisfy Controller().">PrintHelpWindow</a>(<a class="code" href="lib_2lib_8php.html#249b79962f39cf1d037dfa8095060820" title="For classifying gettext strings into files.">_HELPWINDOW</a>('IM logs are categorized by protocols. After you select the protocol, you need to select the local user. Local user sessions are further categorized by remote users connected. Finally, sessions with remote users are categorized by date. IM proxy can log group chats as well.
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 You can find these logs under /var/log/imspector/.'));
<a name="l00233"></a>00233 require_once(<a class="code" href="Controller_2cwc_8php.html#1cf4c1ce4d54df11a660775bb7c5bbd8">$VIEW_PATH</a>.'footer.php');
<a name="l00234"></a>00234 ?&gt;
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Dec 8 14:10:05 2009 for ComixWall ISG Administration Interface by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
