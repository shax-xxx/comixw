<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ComixWall ISG Administration Interface: View/pf/include.inc.php File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_87b54b6b48ba0f3cd0b63254de503eea.html">View</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_eb995fb6d5f2e4ccd0094e4fc25f1cf9.html">pf</a></div>
<h1>include.inc.php File Reference</h1>
<p>
<a href="include_8inc_8php-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_8inc_8php.html#45bae5468d3de0dd95170307dbbedfe8">reload</a> ($url=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releads the current page.  <a href="#45bae5468d3de0dd95170307dbbedfe8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_8inc_8php.html#6830b85647bbf6f3c10d78b5cb0a59cb">page_header</a> ($title, $prefix=&quot;..&quot;, $reload_rate=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Displayes the page header.  <a href="#6830b85647bbf6f3c10d78b5cb0a59cb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_8inc_8php.html#7691c0162d89de0b6ba47edcd8ba8878">$database</a> = $inst_dir. &quot;/conf/config.db&quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><dl class="attention" compact><dt><b>Attention:</b></dt><dd>$inst_dir is set within <a class="el" href="vars_8php.html" title="Mostly menu related structures for View.">vars.php</a> </dd></dl>
 <a href="#7691c0162d89de0b6ba47edcd8ba8878"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_8inc_8php.html#03d3d8622f6733144f3fe6bbcf737f93">$_SESSION</a> ['pfhost']['connect'] = 'localhost'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_8inc_8php.html#0722441477f957078ee2437054556cbc">$filename</a> = $Output[0]</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="6830b85647bbf6f3c10d78b5cb0a59cb"></a><!-- doxytag: member="include.inc.php::page_header" ref="6830b85647bbf6f3c10d78b5cb0a59cb" args="($title, $prefix=&quot;..&quot;, $reload_rate=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">page_header           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>prefix</em> = <code>&quot;..&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>reload_rate</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Displayes the page header. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$title</em>&nbsp;</td><td>string The page title. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$prefix</em>&nbsp;</td><td>string The relative directory level from the web root. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$reload_rate</em>&nbsp;</td><td>int The number of seconds to wait before reloading the page. With a NULL value, the page won't automatically reload. </td></tr>
  </table>
</dl>

<p>
<dl class="attention" compact><dt><b>Attention:</b></dt><dd>Since <a class="el" href="include_8inc_8php.html#6830b85647bbf6f3c10d78b5cb0a59cb" title="Displayes the page header.">page_header()</a> is a function, things get a bit hairy here, Need to include many vars defined in <a class="el" href="vars_8php.html" title="Mostly menu related structures for View.">vars.php</a>. Especially $PF_MODULES is bad. But at least we know these are all pf module needs. Fine for now. </dd></dl>

<p>Definition at line <a class="el" href="include_8inc_8php-source.html#l00068">68</a> of file <a class="el" href="include_8inc_8php-source.html">include.inc.php</a>.</p>

<p>References <a class="el" href="stats_8daily_8php-source.html#l00122">$_SESSION</a>, <a class="el" href="queues_8php-source.html#l00133">$active</a>, <a class="el" href="vars_8php-source.html#l00078">$CW_MODULES</a>, <a class="el" href="include_8inc_8php-source.html#l00042">$database</a>, <a class="el" href="vars_8php-source.html#l00059">$IMG_PATH</a>, <a class="el" href="vars_8php-source.html#l00065">$inst_dir</a>, <a class="el" href="defs_8php-source.html#l00069">$LOCALES</a>, <a class="el" href="defs_8php-source.html#l00167">$ModelsToStat</a>, <a class="el" href="vars_8php-source.html#l00245">$PF_MODULES</a>, <a class="el" href="vars_8php-source.html#l00062">$PF_PATH</a>, <a class="el" href="View_2pf_2web_2packetfilter_2install_8php-source.html#l00047">$pfhosts</a>, <a class="el" href="apache_2info_8php-source.html#l00040">$Reload</a>, <a class="el" href="queues_8php-source.html#l00134">$style</a>, <a class="el" href="Controller_2cwc_8php-source.html#l00070">$View</a>, <a class="el" href="Controller_2cwc_8php-source.html#l00045">$VIEW_PATH</a>, and <a class="el" href="filteredit_8php-source.html#l00693">print</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00069"></a>00069 {
<a name="l00070"></a>00070     global <a class="code" href="vars_8php.html#4cc2423bc653e0f0e02323dc676e5694">$inst_dir</a>, <a class="code" href="queues_8php.html#acd1fa47b7ea59451aff98beca4360ae">$active</a>, <a class="code" href="View_2pf_2web_2packetfilter_2install_8php.html#821054e6859620479977e5687db0e1e5">$pfhosts</a>, <a class="code" href="queues_8php.html#4b16ebd3ba5d6cd79dd64e240aec4a58">$style</a>, <a class="code" href="include_8inc_8php.html#7691c0162d89de0b6ba47edcd8ba8878" title="$inst_dir is set within vars.php">$database</a>,
<a name="l00074"></a>00074         <a class="code" href="Controller_2cwc_8php.html#dfe49c647d27eb2b424c3ea73082382f">$View</a>, <a class="code" href="Controller_2cwc_8php.html#1cf4c1ce4d54df11a660775bb7c5bbd8">$VIEW_PATH</a>, <a class="code" href="defs_8php.html#8f8ee43e7e3ff9fd139e67fc65e21e52" title="Locale definitions used by both View and Controller.">$LOCALES</a>, <a class="code" href="vars_8php.html#e52fc780a7d83454f0b927205a9cb97d" title="PF module absolute path.">$PF_PATH</a>, <a class="code" href="vars_8php.html#a3fccdda1053b0f5d41f816ed96eb81a" title="Left menu items with captions and user permissions.">$CW_MODULES</a>, <a class="code" href="vars_8php.html#da411c140ca52cfa89a8f92df6868875" title="Packet Filter top menu.">$PF_MODULES</a>, <a class="code" href="vars_8php.html#77886466a4aee1571774980d1e116751" title="Path to image files used in help boxes and credits page.">$IMG_PATH</a>, <a class="code" href="defs_8php.html#0083e4f029931a1eca1a72f558d0457f" title="Models to get statuses.">$ModelsToStat</a>;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     <a class="code" href="apache_2info_8php.html#f0ff0824cd3b6ddcaeae47695ad2349f">$Reload</a>= $reload_rate;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     require_once($VIEW_PATH.'header.php');
<a name="l00079"></a>00079     ?&gt;
<a name="l00080"></a>00080     &lt;<a class="code" href="classtable.html">table</a> <span class="keywordtype">id</span>=<span class="stringliteral">"topmenu"</span>&gt;
<a name="l00081"></a>00081         &lt;tr&gt;
<a name="l00082"></a>00082             &lt;td&gt;
<a name="l00083"></a>00083                 &lt;ul <span class="keywordtype">id</span>=<span class="stringliteral">"tabs"</span>&gt;
<a name="l00084"></a>00084                 &lt;?php
<a name="l00085"></a>00085                 <span class="keywordflow">if</span> (file_exists(<span class="stringliteral">"$inst_dir/web/$active_tab/submenu.inc.php"</span>)) {
<a name="l00086"></a>00086                     include_once(<span class="stringliteral">"$inst_dir/web/$active_tab/submenu.inc.php"</span>);
<a name="l00087"></a>00087                 }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089                 <span class="keywordflow">if</span> (<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>['flash']['notice']) {
<a name="l00090"></a>00090                     <a class="code" href="filteredit_8php.html#3ad3a4240c0f97c7e85aff5c52a454d4">print</a> <span class="stringliteral">"&lt;div class=\"notice\"&gt;"</span>. <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>['flash']['notice']. <span class="stringliteral">"&lt;/div&gt;\n"</span>;
<a name="l00091"></a>00091                     unset(<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>['flash']['notice']);
<a name="l00092"></a>00092                 }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094                 <span class="keywordflow">if</span> (<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>['flash']['error']) {
<a name="l00095"></a>00095                     <a class="code" href="filteredit_8php.html#3ad3a4240c0f97c7e85aff5c52a454d4">print</a> <span class="stringliteral">"&lt;div class=\"error\"&gt;"</span>. <a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>['flash']['error']. <span class="stringliteral">"&lt;/div&gt;\n"</span>;
<a name="l00096"></a>00096                     unset(<a class="code" href="stats_8daily_8php.html#e938ca7e54387b0661c7ef4c68246ce7">$_SESSION</a>['flash']['error']);
<a name="l00097"></a>00097                 }
<a name="l00098"></a>00098                 ?&gt;
<a name="l00099"></a>00099                 &lt;/ul&gt;
<a name="l00100"></a>00100             &lt;/td&gt;
<a name="l00101"></a>00101         &lt;/tr&gt;
<a name="l00102"></a>00102     &lt;/<a class="code" href="classtable.html">table</a>&gt;
<a name="l00103"></a>00103     &lt;?php
<a name="l00104"></a>00104 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="45bae5468d3de0dd95170307dbbedfe8"></a><!-- doxytag: member="include.inc.php::reload" ref="45bae5468d3de0dd95170307dbbedfe8" args="($url=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reload           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Releads the current page. 
<p>
This is done to clean up the url after some variables has been passed and it's undesireble for the user to resubmit the changes through a page reload.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$url If any url parameters needs adding when reloading. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="include_8inc_8php-source.html#l00052">52</a> of file <a class="el" href="include_8inc_8php-source.html">include.inc.php</a>.</p>

<p>References <a class="el" href="logsreport_8php-source.html#l00350">$_GET</a>, <a class="el" href="filter_8php-source.html#l00228">$_SERVER</a>, and <a class="el" href="altqedit_8php-source.html#l00113">rulenumber</a>.</p>

<p>Referenced by <a class="el" href="include_8freshclam_8php-source.html#l00043">Freshclam::Freshclam()</a>, and <a class="el" href="system_8php-source.html#l00053">System::System()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00053"></a>00053 {
<a name="l00054"></a>00054     <span class="keywordflow">if</span> (isset(<a class="code" href="logsreport_8php.html#62c005944df6f23acd7ecc2dca54a94a">$_GET</a>['<a class="code" href="altqedit_8php.html#c502a3d55782100bc9cc88e0bf2a2573">rulenumber</a>']) &amp;&amp; !$url) {
<a name="l00055"></a>00055       $url = <span class="stringliteral">"?rulenumber="</span>. <a class="code" href="logsreport_8php.html#62c005944df6f23acd7ecc2dca54a94a">$_GET</a>['rulenumber'];
<a name="l00056"></a>00056     }
<a name="l00057"></a>00057     header(<span class="stringliteral">"location: "</span>.  <a class="code" href="filter_8php.html#a3d7411a13c5a83e66dfca7c88f6c555">$_SERVER</a>['PHP_SELF']. $url);
<a name="l00058"></a>00058 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="include_8inc_8php_45bae5468d3de0dd95170307dbbedfe8_icgraph.png" border="0" usemap="#include_8inc_8php_45bae5468d3de0dd95170307dbbedfe8_icgraph_map" alt=""></center>
<map name="include_8inc_8php_45bae5468d3de0dd95170307dbbedfe8_icgraph_map">
<area shape="rect" href="classFreshclam.html#5fe5d724af1acf79174ba885d89b968f" title="Freshclam::Freshclam" alt="" coords="115,5,277,32"><area shape="rect" href="classSystem.html#e317936c9bcf1374d61745572e0f2f8a" title="System::System" alt="" coords="131,56,261,83"></map>
</div>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="03d3d8622f6733144f3fe6bbcf737f93"></a><!-- doxytag: member="include.inc.php::$_SESSION" ref="03d3d8622f6733144f3fe6bbcf737f93" args="['pfhost']['connect']" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_SESSION['pfhost']['connect'] = 'localhost'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="include_8inc_8php-source.html#l00106">106</a> of file <a class="el" href="include_8inc_8php-source.html">include.inc.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="7691c0162d89de0b6ba47edcd8ba8878"></a><!-- doxytag: member="include.inc.php::$database" ref="7691c0162d89de0b6ba47edcd8ba8878" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$database = $inst_dir. &quot;/conf/config.db&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="attention" compact><dt><b>Attention:</b></dt><dd>$inst_dir is set within <a class="el" href="vars_8php.html" title="Mostly menu related structures for View.">vars.php</a> </dd></dl>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000050">Todo:</a></b></dt><dd>Not used by ComixWall webif. </dd></dl>

<p>Definition at line <a class="el" href="include_8inc_8php-source.html#l00042">42</a> of file <a class="el" href="include_8inc_8php-source.html">include.inc.php</a>.</p>

<p>Referenced by <a class="el" href="include_8inc_8php-source.html#l00068">page_header()</a>, <a class="el" href="pfhostsedit_8php-source.html#l00055">set_pfhost_nonwritable()</a>, and <a class="el" href="pfhostsedit_8php-source.html#l00042">set_pfhost_writeable()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0722441477f957078ee2437054556cbc"></a><!-- doxytag: member="include.inc.php::$filename" ref="0722441477f957078ee2437054556cbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$filename = $Output[0]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="include_8inc_8php-source.html#l00111">111</a> of file <a class="el" href="include_8inc_8php-source.html">include.inc.php</a>.</p>

<p>Referenced by <a class="el" href="class__cache_8inc-source.html#l00098">Cache::_cache()</a>, <a class="el" href="class__cache_8inc-source.html#l00128">Cache::_get()</a>, <a class="el" href="class__cache_8inc-source.html#l00114">Cache::_iscached()</a>, <a class="el" href="dansguardian_8php-source.html#l00717">Dansguardian::GetGroupFile()</a>, <a class="el" href="pf_8php-source.html#l00357">Pf::GetHostGraphsList()</a>, <a class="el" href="class__rrdtool_8inc-source.html#l00063">RRDTool::graph()</a>, <a class="el" href="graph_8php-source.html#l00041">output_picture()</a>, <a class="el" href="pfw_8class_8php-source.html#l00059">pfw::read_from_file()</a>, and <a class="el" href="pfw_8class_8php-source.html#l00209">pfw::writeFile()</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Dec 8 14:10:25 2009 for ComixWall ISG Administration Interface by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
