<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ComixWall ISG Administration Interface: Apache Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>Apache Class Reference</h1><!-- doxytag: class="Apache" --><!-- doxytag: inherits="View,Model" --><div class="dynheader">
Inheritance diagram for Apache:</div>
<div class="dynsection">
<p><center><img src="classApache__inherit__graph.png" border="0" usemap="#Apache__inherit__map" alt="Inheritance graph"></center>
<map name="Apache__inherit__map">
<area shape="rect" href="classApachelogs.html" title="Apachelogs" alt="" coords="5,161,99,188"><area shape="rect" href="classCwlogs.html" title="Cwlogs" alt="" coords="123,161,189,188"><area shape="rect" href="classView.html" title="View" alt="" coords="40,7,91,33"><area shape="rect" href="classModel.html" title="Model" alt="" coords="115,7,173,33"><area shape="rect" href="classCwc.html" title="Cwc" alt="" coords="92,239,140,265"><area shape="rect" href="classCwwui.html" title="Cwwui" alt="" coords="164,239,228,265"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for Apache:</div>
<div class="dynsection">
<p><center><img src="classApache__coll__graph.png" border="0" usemap="#Apache__coll__map" alt="Collaboration graph"></center>
<map name="Apache__coll__map">
<area shape="rect" href="classView.html" title="View" alt="" coords="5,103,56,129"><area shape="rect" href="classModel.html" title="Model" alt="" coords="80,103,139,129"><area shape="rect" title="PROC_STAT_TIMEOUT" alt="" coords="105,31,113,39"><area shape="rect" title="PROC_STAT_TIMEOUT" alt="" coords="105,99,113,107"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classApache-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#4f93f9a47b2a4bdca07820dbbfe7ea3a">Apache</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#20ac6dd9b14b011841f7725666ad8000">GetVersion</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets software version string.  <a href="#20ac6dd9b14b011841f7725666ad8000"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#50d819aea057b80ec4f26f2531b55389">Restart</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Restart module processes.  <a href="#50d819aea057b80ec4f26f2531b55389"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#c79bfdc055a902f983c7dcde10c4db2a">Stop</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stops module process(es).  <a href="#c79bfdc055a902f983c7dcde10c4db2a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#e19dcac31ffb3970b0f513692d953e60">ParseLogLine</a> ($logline, &amp;$cols)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log parser.  <a href="#e19dcac31ffb3970b0f513692d953e60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#c2155e099d16e92fe196354941270ac1">SetWebalizerHostname</a> ($ip)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#4f93f9a47b2a4bdca07820dbbfe7ea3a">Apache</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#d9e31dee6882f67b0b3f449615c1a543">$Name</a> = 'apache'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#8fdef8f95533ba674b187b5e272fdba2">$User</a> = 'root|www'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#b69c86c55894e53fc5fb4d68c979c309">$NVPS</a> = '\h'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#8bf69821e7ada208d93a4a42e0cc42c1">$ConfFile</a> = '/var/www/conf/httpd.conf'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#fe01aa85ca55dc2c29f2523abb0dce78">$LogFile</a> = '/var/www/logs/error_log'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#022b0b73b1569fa557502914557b89fd">$VersionCmd</a> = '/usr/sbin/httpd -v'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#37a6e301a57271be0e3dae039958777d">$Model</a> = 'apache'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApache.html#8e0a39d304906abf07b66e40d785f82c">$Layout</a> = 'httpd'</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00038">38</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4f93f9a47b2a4bdca07820dbbfe7ea3a"></a><!-- doxytag: member="Apache::Apache" ref="4f93f9a47b2a4bdca07820dbbfe7ea3a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::Apache           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00050">50</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

<p>References <a class="el" href="Installer_2install_8php-source.html#l00076">Model</a>, and <a class="el" href="apache_8php-source.html#l00110">SetWebalizerHostname()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00051"></a>00051     {
<a name="l00052"></a>00052         <a class="code" href="Installer_2install_8php.html#7b5d2cd10c1088574598abbab39e5619">parent::Model</a>();
<a name="l00053"></a>00053         
<a name="l00054"></a>00054         $this-&gt;Proc= 'httpd';
<a name="l00055"></a>00055     
<a name="l00056"></a>00056         $this-&gt;Commands= array_merge(
<a name="l00057"></a>00057             $this-&gt;Commands,
<a name="l00058"></a>00058             array(
<a name="l00059"></a>00059                 '<a class="code" href="classApache.html#c2155e099d16e92fe196354941270ac1">SetWebalizerHostname</a>'=&gt;    array(
<a name="l00060"></a>00060                     'argv'  =&gt;  array(<a class="code" href="Controller_2lib_8php.html#bd61f6de4486078085d7f4d700b6219b">IPADR</a>),
<a name="l00061"></a>00061                     'desc'  =&gt;  _('Set webalizer hostname'),
<a name="l00062"></a>00062                     ),
<a name="l00063"></a>00063                 )
<a name="l00064"></a>00064             );
<a name="l00065"></a>00065     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_4f93f9a47b2a4bdca07820dbbfe7ea3a_cgraph.png" border="0" usemap="#classApache_4f93f9a47b2a4bdca07820dbbfe7ea3a_cgraph_map" alt=""></center>
<map name="classApache_4f93f9a47b2a4bdca07820dbbfe7ea3a_cgraph_map">
<area shape="rect" href="classApache.html#c2155e099d16e92fe196354941270ac1" title="Apache::SetWebalizerHostname" alt="" coords="179,5,408,32"><area shape="rect" href="classModel.html#3a3a50b49511d0d5f4373a15c83f60a8" title="Search and replace." alt="" coords="456,5,624,32"><area shape="rect" href="Controller_2lib_8php.html#452de2ffc796752557de0932efe45dab" title="Wrapper for controller error logging via syslog." alt="" coords="673,5,764,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="20ac6dd9b14b011841f7725666ad8000"></a><!-- doxytag: member="Apache::GetVersion" ref="20ac6dd9b14b011841f7725666ad8000" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::GetVersion           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets software version string. 
<p>

<p>Reimplemented from <a class="el" href="classModel.html#53a0b80bb9ba660edf934fcded32e1f4">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00067">67</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00389">Model::RunShellCommand()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00068"></a>00068     {
<a name="l00069"></a>00069         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string.">RunShellCommand</a>($this-&gt;VersionCmd).<span class="stringliteral">"\n"</span>.
<a name="l00070"></a>00070             $this-&gt;<a class="code" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string.">RunShellCommand</a>($this-&gt;phpVersionCmd.' | /usr/bin/head -1');
<a name="l00071"></a>00071     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_20ac6dd9b14b011841f7725666ad8000_cgraph.png" border="0" usemap="#classApache_20ac6dd9b14b011841f7725666ad8000_cgraph_map" alt=""></center>
<map name="classApache_20ac6dd9b14b011841f7725666ad8000_cgraph_map">
<area shape="rect" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string." alt="" coords="204,5,396,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="50d819aea057b80ec4f26f2531b55389"></a><!-- doxytag: member="Apache::Restart" ref="50d819aea057b80ec4f26f2531b55389" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::Restart           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Restart module processes. 
<p>

<p>Reimplemented from <a class="el" href="classModel.html#c95892eaf9c6371e23720359a3ce8004">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00073">73</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00389">Model::RunShellCommand()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00074"></a>00074     {
<a name="l00075"></a>00075         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string.">RunShellCommand</a>('/usr/sbin/apachectl restart');
<a name="l00076"></a>00076     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_50d819aea057b80ec4f26f2531b55389_cgraph.png" border="0" usemap="#classApache_50d819aea057b80ec4f26f2531b55389_cgraph_map" alt=""></center>
<map name="classApache_50d819aea057b80ec4f26f2531b55389_cgraph_map">
<area shape="rect" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string." alt="" coords="180,5,372,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c79bfdc055a902f983c7dcde10c4db2a"></a><!-- doxytag: member="Apache::Stop" ref="c79bfdc055a902f983c7dcde10c4db2a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::Stop           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops module process(es). 
<p>
Tries PROC_STAT_TIMEOUT times.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>boolean TRUE if the process killed successfully</dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000028">Todo:</a></b></dt><dd>Actually should stop retrying on some error conditions? </dd></dl>

<p>Reimplemented from <a class="el" href="classModel.html#abaab1028bd3cbc20d4bc77f8a222f98">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00078">78</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

<p>References <a class="el" href="model_8php-source.html#l00389">Model::RunShellCommand()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00079"></a>00079     {
<a name="l00080"></a>00080         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string.">RunShellCommand</a>('/usr/sbin/apachectl stop');
<a name="l00081"></a>00081     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_c79bfdc055a902f983c7dcde10c4db2a_cgraph.png" border="0" usemap="#classApache_c79bfdc055a902f983c7dcde10c4db2a_cgraph_map" alt=""></center>
<map name="classApache_c79bfdc055a902f983c7dcde10c4db2a_cgraph_map">
<area shape="rect" href="classModel.html#2d12753c999aac330108a00dd0f3abec" title="Runs given shell command and returns its output as string." alt="" coords="164,5,356,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="e19dcac31ffb3970b0f513692d953e60"></a><!-- doxytag: member="Apache::ParseLogLine" ref="e19dcac31ffb3970b0f513692d953e60" args="($logline, &amp;$cols)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::ParseLogLine           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>logline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>cols</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Log parser. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$logline</em>&nbsp;</td><td>string Log line </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>$cols</em>&nbsp;</td><td>array Parsed fields </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if log line is parsed </dd></dl>

<p>Reimplemented from <a class="el" href="classModel.html#580c841570e910e36dbf9879e96ec7c7">Model</a>.</p>

<p>Reimplemented in <a class="el" href="classApachelogs.html#ce114fa7c97b8948b923637bed3f0409">Apachelogs</a>, and <a class="el" href="classCwlogs.html#b3b1175f336c116258cd4fdb649f128b">Cwlogs</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00083">83</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

<p>References <a class="el" href="Controller_2cwc_8php-source.html#l00068">$retval</a>, and <a class="el" href="model_8php-source.html#l01910">Model::ParseSyslogLine()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00084"></a>00084     {
<a name="l00085"></a>00085         <span class="comment">//[Mon Sep 10 22:00:01 2007] [notice] Accept mutex: sysvsem (Default: sysvsem)</span>
<a name="l00086"></a>00086         $re_datetime= '\[([a-zA-Z]+)\s+([a-zA-Z]+)\s+(\d+)\s+(\d+:\d+:\d+)\s+(\d+)\]';
<a name="l00087"></a>00087         $re_loglevel= '\[([a-zA-Z]+)\]';
<a name="l00088"></a>00088         $re_rest= '(.*)';
<a name="l00089"></a>00089 
<a name="l00090"></a>00090         $re= <span class="stringliteral">"/^$re_datetime\s+$re_loglevel\s+$re_rest$/"</span>;
<a name="l00091"></a>00091         <span class="keywordflow">if</span> (preg_match($re, $logline, $match)) {
<a name="l00092"></a>00092             $cols['Date']= <span class="stringliteral">"$match[2] $match[3] $match[5]"</span>;
<a name="l00093"></a>00093             $cols['Time']= $match[4];
<a name="l00094"></a>00094             $cols['Level']= $match[6];
<a name="l00095"></a>00095             $cols['Log']= $match[7];
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097         <span class="keywordflow">else</span> {
<a name="l00098"></a>00098             <span class="keywordflow">if</span> (<a class="code" href="Controller_2cwc_8php.html#d78265bb473309fdfd2bc017c8cffe81">$retval</a>= $this-&gt;<a class="code" href="classModel.html#f0db0d28b44c9a296eea592c5c551969" title="Parses standard syslog line.">ParseSyslogLine</a>($logline, $cols)) {
<a name="l00099"></a>00099                 $cols['DateTime']= $cols['Date'].<span class="charliteral">' '</span>.$cols['Time'];
<a name="l00100"></a>00100             }
<a name="l00101"></a>00101             <span class="keywordflow">else</span> {
<a name="l00102"></a>00102                 <span class="comment">// There are very simple log lines too, e.g. "man: Formatting manual page..."</span>
<a name="l00103"></a>00103                 <span class="comment">// So parser never fails</span>
<a name="l00104"></a>00104                 $cols['Log']= $logline;
<a name="l00105"></a>00105             }
<a name="l00106"></a>00106         }
<a name="l00107"></a>00107         <span class="keywordflow">return</span> TRUE;
<a name="l00108"></a>00108     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_e19dcac31ffb3970b0f513692d953e60_cgraph.png" border="0" usemap="#classApache_e19dcac31ffb3970b0f513692d953e60_cgraph_map" alt=""></center>
<map name="classApache_e19dcac31ffb3970b0f513692d953e60_cgraph_map">
<area shape="rect" href="classModel.html#f0db0d28b44c9a296eea592c5c551969" title="Parses standard syslog line." alt="" coords="220,5,393,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c2155e099d16e92fe196354941270ac1"></a><!-- doxytag: member="Apache::SetWebalizerHostname" ref="c2155e099d16e92fe196354941270ac1" args="($ip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::SetWebalizerHostname           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00110">110</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

<p>References <a class="el" href="defs_8php-source.html#l00153">$Re_Ip</a>, and <a class="el" href="model_8php-source.html#l00366">Model::ReplaceRegexp()</a>.</p>

<p>Referenced by <a class="el" href="apache_8php-source.html#l00050">Apache()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00111"></a>00111     {
<a name="l00112"></a>00112         global <a class="code" href="defs_8php.html#d4c5dcc02e4d7d3548d600b54b954bcd" title="Common regexps.">$Re_Ip</a>;
<a name="l00113"></a>00113         
<a name="l00114"></a>00114         $re= <span class="stringliteral">"/^(\h*HostName\h+)($Re_Ip|[\w\.]+)(\s+.*)/ms"</span>;
<a name="l00115"></a>00115         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classModel.html#3a3a50b49511d0d5f4373a15c83f60a8" title="Search and replace.">ReplaceRegexp</a>('/etc/webalizer.conf', $re, '${1}'.$ip.'${3}');
<a name="l00116"></a>00116     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_c2155e099d16e92fe196354941270ac1_cgraph.png" border="0" usemap="#classApache_c2155e099d16e92fe196354941270ac1_cgraph_map" alt=""></center>
<map name="classApache_c2155e099d16e92fe196354941270ac1_cgraph_map">
<area shape="rect" href="classModel.html#3a3a50b49511d0d5f4373a15c83f60a8" title="Search and replace." alt="" coords="283,5,451,32"><area shape="rect" href="Controller_2lib_8php.html#452de2ffc796752557de0932efe45dab" title="Wrapper for controller error logging via syslog." alt="" coords="500,5,591,32"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_c2155e099d16e92fe196354941270ac1_icgraph.png" border="0" usemap="#classApache_c2155e099d16e92fe196354941270ac1_icgraph_map" alt=""></center>
<map name="classApache_c2155e099d16e92fe196354941270ac1_icgraph_map">
<area shape="rect" href="classApache.html#4f93f9a47b2a4bdca07820dbbfe7ea3a" title="Apache::Apache" alt="" coords="283,5,408,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="4f93f9a47b2a4bdca07820dbbfe7ea3a"></a><!-- doxytag: member="Apache::Apache" ref="4f93f9a47b2a4bdca07820dbbfe7ea3a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::Apache           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="apache_2include_8php-source.html#l00044">44</a> of file <a class="el" href="apache_2include_8php-source.html">include.php</a>.</p>

<p>References <a class="el" href="lib_2lib_8php-source.html#l00140">_HELPBOX2()</a>, <a class="el" href="lib_2lib_8php-source.html#l00128">_HELPWINDOW()</a>, <a class="el" href="lib_2lib_8php-source.html#l00134">_TITLE2()</a>, <a class="el" href="lists_8php-source.html#l00097">ConfHelpMsg</a>, <a class="el" href="dansguardian_2conf_8php-source.html#l00068">Config</a>, <a class="el" href="general_8php-source.html#l00054">However</a>, and <a class="el" href="model_8php-source.html#l00877">Model::Start()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00045"></a>00045     {
<a name="l00046"></a>00046         $this-&gt;LogsHelpMsg= <a class="code" href="lib_2lib_8php.html#249b79962f39cf1d037dfa8095060820" title="For classifying gettext strings into files.">_HELPWINDOW</a>('These logs may be important <span class="keywordflow">for</span> diagnosing web server related problems.');
<a name="l00047"></a>00047 
<a name="l00048"></a>00048         $this-&gt;<a class="code" href="lists_8php.html#a18f7dd1f9fc04ce548927bffb93364c">ConfHelpMsg</a>= <a class="code" href="lib_2lib_8php.html#249b79962f39cf1d037dfa8095060820" title="For classifying gettext strings into files.">_HELPWINDOW</a>('Since <span class="keyword">this</span> web administration interface depends on the <a class="code" href="classApache.html">Apache</a> web server, you should be careful <span class="keywordflow">while</span> modifying these <a class="code" href="classoptions.html">options</a>. By <span class="keywordflow">default</span>, the web server is configured to serve <span class="keyword">this</span> web interface only, hence the <span class="keywordflow">default</span> values should suffice <span class="keywordflow">for</span> most purposes. <a class="code" href="general_8php.html#23b4495f813ca060a12eb4a855f6ce51">However</a>, OpenBSD/httpd is a full-featured HTTP server, and you can configure it to serve web sites too.');
<a name="l00049"></a>00049     
<a name="l00050"></a>00050         $this-&gt;<a class="code" href="dansguardian_2conf_8php.html#2bd9cf561282f599025ff7907d78f427">Config</a>= array(
<a name="l00051"></a>00051             'ServerAdmin' =&gt; array(
<a name="l00052"></a>00052                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Server Admin'),
<a name="l00053"></a>00053                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('ServerAdmin: Your address, where problems with the server should be e-mailed.
<a name="l00054"></a>00054         This address appears on some server-generated pages, such as error documents.'),
<a name="l00055"></a>00055                 ),
<a name="l00056"></a>00056             'HostnameLookups' =&gt; array(
<a name="l00057"></a>00057                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Hostname Lookups'),
<a name="l00058"></a>00058                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('Log the names of clients or just their <a class="code" href="defs_8php.html#16e3cb232d173c8a2ef726cc184d5c38">IP</a> addresses e.g., www.apache.org (on) or 204.62.129.132 (off).
<a name="l00059"></a>00059         The <span class="keywordflow">default</span> is off because it\'d be overall better <span class="keywordflow">for</span> the net <span class="keywordflow">if</span> people had to knowingly turn <span class="keyword">this</span> feature on, since enabling it means that each client request will result in AT LEAST one lookup request to the nameserver.'),
<a name="l00060"></a>00060                 ),
<a name="l00061"></a>00061             'LogLevel' =&gt; array(
<a name="l00062"></a>00062                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Log Level'),
<a name="l00063"></a>00063                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('LogLevel: Control the number of messages logged to the error_log.
<a name="l00064"></a>00064         Possible values include: debug, info, notice, warn, error, crit, alert, emerg.'),
<a name="l00065"></a>00065                 ),
<a name="l00066"></a>00066             'Timeout' =&gt; array(
<a name="l00067"></a>00067                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Timeout'),
<a name="l00068"></a>00068                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('The number of seconds before receives and sends time out.'),
<a name="l00069"></a>00069                 ),
<a name="l00070"></a>00070             'KeepAlive' =&gt; array(
<a name="l00071"></a>00071                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('KeepAlive'),
<a name="l00072"></a>00072                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('Whether or not to allow persistent connections (more than one request per connection). Set to <span class="stringliteral">"Off"</span> to deactivate.'),
<a name="l00073"></a>00073                 ),
<a name="l00074"></a>00074             'MaxKeepAliveRequests' =&gt; array(
<a name="l00075"></a>00075                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Max KeepAlive Requests'),
<a name="l00076"></a>00076                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('The maximum number of requests to allow during a persistent connection. Set to 0 to allow an unlimited amount. We recommend you leave <span class="keyword">this</span> number high, <span class="keywordflow">for</span> maximum performance.'),
<a name="l00077"></a>00077                 ),
<a name="l00078"></a>00078             'KeepAliveTimeout' =&gt; array(
<a name="l00079"></a>00079                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('KeepAlive Timeout'),
<a name="l00080"></a>00080                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('Number of seconds to wait <span class="keywordflow">for</span> the next request from the same client on the same connection.'),
<a name="l00081"></a>00081                 ),
<a name="l00082"></a>00082             'MinSpareServers' =&gt; array(
<a name="l00083"></a>00083                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Min Spare Servers'),
<a name="l00084"></a>00084                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('Server-pool size regulation.
<a name="l00085"></a>00085         Rather than making you guess how many server processes you need, <a class="code" href="classApache.html">Apache</a> dynamically adapts to the load it sees --- that is, it tries to maintain enough server processes to handle the current load, plus a few spare servers to handle <span class="keyword">transient</span> load spikes (e.g., multiple simultaneous requests from a single Netscape browser).
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         It does <span class="keyword">this</span> by periodically checking how many servers are waiting <span class="keywordflow">for</span> a request.  If there are fewer than MinSpareServers, it creates a <span class="keyword">new</span> spare.  If there are more than MaxSpareServers, some of the spares die off.  The <span class="keywordflow">default</span> values in httpd.conf-dist are probably OK <span class="keywordflow">for</span> most sites.'),
<a name="l00088"></a>00088                 ),
<a name="l00089"></a>00089             'MaxSpareServers' =&gt; array(
<a name="l00090"></a>00090                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Max Spare Servers'),
<a name="l00091"></a>00091                 ),
<a name="l00092"></a>00092             'StartServers' =&gt; array(
<a name="l00093"></a>00093                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('<a class="code" href="classModel.html#4cdbaac69ea2e094a98caae1cbb7f2aa" title="Start module process(es).">Start</a> Servers'),
<a name="l00094"></a>00094                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('Number of servers to start initially --- should be a reasonable ballpark figure.'),
<a name="l00095"></a>00095                 ),
<a name="l00096"></a>00096             'MaxClients' =&gt; array(
<a name="l00097"></a>00097                 'title' =&gt; <a class="code" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files.">_TITLE2</a>('Max Clients'),
<a name="l00098"></a>00098                 'info' =&gt; <a class="code" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files.">_HELPBOX2</a>('Limit on total number of servers running, i.e., limit on the number of clients who can simultaneously connect --- <span class="keywordflow">if</span> <span class="keyword">this</span> limit is ever reached, clients will be LOCKED OUT, so it should NOT BE SET TOO LOW. It is intended mainly as a brake to keep a runaway server from taking the system with it as it spirals down...'),
<a name="l00099"></a>00099                 ),
<a name="l00100"></a>00100             );
<a name="l00101"></a>00101     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classApache_4f93f9a47b2a4bdca07820dbbfe7ea3a_cgraph.png" border="0" usemap="#classApache_4f93f9a47b2a4bdca07820dbbfe7ea3a_cgraph_map" alt=""></center>
<map name="classApache_4f93f9a47b2a4bdca07820dbbfe7ea3a_cgraph_map">
<area shape="rect" href="lib_2lib_8php.html#6fdf8bf2ffcfacbb757e757a3fdf4cc6" title="For classifying gettext strings into files." alt="" coords="191,5,292,32"><area shape="rect" href="lib_2lib_8php.html#249b79962f39cf1d037dfa8095060820" title="For classifying gettext strings into files." alt="" coords="179,56,304,83"><area shape="rect" href="lib_2lib_8php.html#b4da5c8117f5ef7afe6fdfeb41764bac" title="For classifying gettext strings into files." alt="" coords="207,107,276,133"><area shape="rect" href="classModel.html#4cdbaac69ea2e094a98caae1cbb7f2aa" title="Start module process(es)." alt="" coords="191,157,292,184"></map>
</div>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="d9e31dee6882f67b0b3f449615c1a543"></a><!-- doxytag: member="Apache::$Name" ref="d9e31dee6882f67b0b3f449615c1a543" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$Name = 'apache'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classModel.html#b36f902ed1a1e77d4318d579fed718bc">Model</a>.</p>

<p>Reimplemented in <a class="el" href="classApachelogs.html#71f084fa15e3c3c811cd73a5516fcd15">Apachelogs</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00040">40</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="8fdef8f95533ba674b187b5e272fdba2"></a><!-- doxytag: member="Apache::$User" ref="8fdef8f95533ba674b187b5e272fdba2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$User = 'root|www'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classModel.html#dba4944c66dd108992af2cb507665c0e">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00041">41</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="b69c86c55894e53fc5fb4d68c979c309"></a><!-- doxytag: member="Apache::$NVPS" ref="b69c86c55894e53fc5fb4d68c979c309" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$NVPS = '\h'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classModel.html#79553c4d5567284cae411eb24f02fb62">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00043">43</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="8bf69821e7ada208d93a4a42e0cc42c1"></a><!-- doxytag: member="Apache::$ConfFile" ref="8bf69821e7ada208d93a4a42e0cc42c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$ConfFile = '/var/www/conf/httpd.conf'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classModel.html#ffbf15b1c593584d9fc04185d70670d8">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00044">44</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="fe01aa85ca55dc2c29f2523abb0dce78"></a><!-- doxytag: member="Apache::$LogFile" ref="fe01aa85ca55dc2c29f2523abb0dce78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$LogFile = '/var/www/logs/error_log'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classModel.html#13a81d956649e70801f3f3a1781df1ab">Model</a>.</p>

<p>Reimplemented in <a class="el" href="classApachelogs.html#f6126a5b3bab3dcda4296803b0f5d995">Apachelogs</a>, <a class="el" href="classCwc.html#92638e95a5d6a3d74c666b85faf46162">Cwc</a>, and <a class="el" href="classCwwui.html#3da6b416b1744c4f30b4499783a1a50e">Cwwui</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00045">45</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="022b0b73b1569fa557502914557b89fd"></a><!-- doxytag: member="Apache::$VersionCmd" ref="022b0b73b1569fa557502914557b89fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$VersionCmd = '/usr/sbin/httpd -v'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classModel.html#40a24e5aafaaedbcfec96fabe72948c0">Model</a>.</p>

<p>Definition at line <a class="el" href="apache_8php-source.html#l00047">47</a> of file <a class="el" href="apache_8php-source.html">apache.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="37a6e301a57271be0e3dae039958777d"></a><!-- doxytag: member="Apache::$Model" ref="37a6e301a57271be0e3dae039958777d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$<a class="el" href="classModel.html">Model</a> = 'apache'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classView.html#b5345e47da6e0c7f922af4b4c06cef06">View</a>.</p>

<p>Reimplemented in <a class="el" href="classCwc.html#45efed8a324aa2a6a1a3fa66dfbd94b6">Cwc</a>, <a class="el" href="classCwwui.html#cdfcbf2055c5e45c3d86e01cbb734703">Cwwui</a>, and <a class="el" href="classApachelogs.html#07fdabfe0d39ac4dcb19c8da0d3514d0">Apachelogs</a>.</p>

<p>Definition at line <a class="el" href="apache_2include_8php-source.html#l00041">41</a> of file <a class="el" href="apache_2include_8php-source.html">include.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="8e0a39d304906abf07b66e40d785f82c"></a><!-- doxytag: member="Apache::$Layout" ref="8e0a39d304906abf07b66e40d785f82c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Apache::$<a class="el" href="classLayout.html">Layout</a> = 'httpd'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classView.html#d95fc2bf676b0a27ce6ce26ceb22d1fb">View</a>.</p>

<p>Definition at line <a class="el" href="apache_2include_8php-source.html#l00042">42</a> of file <a class="el" href="apache_2include_8php-source.html">include.php</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Model/<a class="el" href="apache_8php-source.html">apache.php</a><li>View/apache/<a class="el" href="apache_2include_8php-source.html">include.php</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Dec 8 14:10:29 2009 for ComixWall ISG Administration Interface by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
